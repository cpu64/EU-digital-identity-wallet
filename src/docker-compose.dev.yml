services:
  relying-party:
    volumes:
      - ./relying-party/app:/app

  trusted-list:
    volumes:
      - ./trusted-list/app:/app

  pid-provider:
    volumes:
      - ./pid-provider/app:/app

  wallet-backend:
    volumes:
      - ./wallet-backend:/app
    environment:
      - QUART_ENV=development
      - QUART_APP=app.app:app
    expose:
      - 8000
      - 5678
    command: sh -c "uv run python -m debugpy --listen 0.0.0.0:5678 -m quart run --host 0.0.0.0 --port 8000"

  wallet-frontend:
    image: node:25-alpine
    working_dir: /app
    volumes:
      - ./wallet-frontend:/app
    command: sh -c "npm install && npm run dev -- --host 0.0.0.0 --port 8000"
